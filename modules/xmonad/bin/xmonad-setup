#!/bin/bash

# xmonad setup script
#
# Based on content from
#     https://github.com/davidbrewer/xmonad-ubuntu-conf/blob/master/start-xmonad

XMONAD_DIR=$( builtin cd $(dirname ${BASH_SOURCE:-$0})/.. && pwd )

#------------------------------------------------------------------------------
# Set up X
#------------------------------------------------------------------------------

xrdb -merge ~/.Xresources

# TODO: screen configuration

# Background
# Use S_base03 from solarized
xsetroot -solid "#002b36"

#------------------------------------------------------------------------------
# Launch programs
#------------------------------------------------------------------------------

# Network monitor
if hash nm-applet 2>/dev/null; then
	nm-applet --sm-disable &
fi

# Screensaver
if hash xscreensaver 2>/dev/null; then
	xscreensaver -no-splash &
fi

# Run the gnome-keyring-daemon to avoid issues you otherwise may encounter
# when using gnome applications which expect access to the keyring, such
# as Empathy. This prevents prompts you may otherwise get for invalid
# certificates and the like.
if hash gnome-keyring-daemon 2>/dev/null; then
	gnome-keyring-daemon --start --components=gpg,pkcs11,secrets,ssh
fi

